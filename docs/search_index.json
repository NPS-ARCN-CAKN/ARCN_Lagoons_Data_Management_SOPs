[["index.html", "Arctic Lagoons Monitoring Data Management Standard Operating Procedures 1 Introduction", " Arctic Lagoons Monitoring Data Management Standard Operating Procedures Scott D. Miller Information Technology Specialist\\Data Manager National Park Service, Arctic Inventory and Monitoring Program 240 W. 5th Ave. Anchorage, Alaska 2025-02-24 1 Introduction This document contains the data management standard operating procedures (SOPs) for the National Park Service, Arctic Inventory and Monitoring Network’s Arctic Lagoons Monitoring program. These procedures were developed in 2024 when data management moved from a file-based system to a centralized, authoritative relational database (Microsoft SQL Server). The SOPs presented here are specific to data management and do not supercede any field procedures presented. Methods and background are published in Jones, T., Apsens, S., Miller, S., and Robards, M. 2018. Coastal lagoons vital signs monitoring protocol for the Arctic Network: Volume 1, report narrative, version 1.0. Natural Resource Report. NPS/ARCN/NRR—2018/1824. National Park Service. Fort Collins, Colorado. Data and published products are available through the NPS Data Store at https://irma.nps.gov/DataStore/Reference/Profile/2216893 "],["deliverables-schedule-deliverables-schedule.html", "2 Deliverables Schedule {#Deliverables Schedule}", " 2 Deliverables Schedule {#Deliverables Schedule} {#foo} Identifier Deliverable Format L01 GPS waypoint files GPS export format. Text file format. L02 Hydrosurveyor files Hydrosurveyor export format. Text file format. L03 Water Quality - Continuous EXO2 Sonde Probe data and calibration data files. Text file formats. L04 Water level - HOBO Level Logger HOBO Level Logger export format. Text file format. L05 Digital Photographs TIFF L06 Data from contracted lab(s) Formats as received. Text file format. L07 Chain of custody form PDF L08 Scanned field data forms PDF L09 Original paper data forms Paper data forms L10 Water Quality - Discrete CSV L11 Fish length data NA L12 Fish abundance data NA L13 Ponar NA L14 Fish otolith data NA L15 Mysids data file CSV LAG01 Field data Human and machine readable text file format. "],["deliverables-management.html", "3 Deliverables Management 3.1 Prerequisites 3.2 Procedure", " 3 Deliverables Management Managing long-term data requires fastidious organization and archival of data products. This section covers data management procedures from field data files acceptance, through quality control and database integration. 3.1 Prerequisites Write privileges on the Lagoons monitoring shared network drive (O:\\Monitoring\\Vital Signs\\Lagoon Communities and Ecosystems). datawriter privileges on the lagoons monitoring master SQL Server database (currently on the ARCN development SQL Server at inpyugamsvm01\\nuna_dev:ARCN_Lagoons). 3.2 Procedure Deliverables typically arrive as Comma Separated Values (CSV) text files, or Microsoft Excel workbooks). If these files have not been named correctly according to the deliverables schedule then that is the first task. The objective here is to extract data from the contractor’s files into individual files of high data quality and named according to the deliverables schedule. Open a file explorer and navigate to the ARCN Lagoons monitoring shared network drive (described above). Enter the \\Data directory If a directory does not exist, then create it using the following example: O:\\Monitoring\\Vital Signs\\Lagoon Communities and Ecosystems\\Data\\2024 Lagoons Sampling, replacing 2024 with the appropriate year. Create two subdirectories: \\Deliverables as received \\Deliverables processing The purpose of the former directory is to store the files in their unaltered state as they were received from the contractor. The latter directory is a workbench for processing the raw deliverables into well-documented and high quality formats suitable for archivale and export into the master ARCN_Lagoons database. Duplicate the raw deliverable files into the two directories created above. Compress (zip) the files in the \\Deliverables as received and set the attributes to ReadOnly so they may not be accidentally altered. Only work on the files in the \\Deliverables processing directory. If mistakes are made then restore the files from the \\Deliverables as received directory. Ideally, if your skills allow, load the data from these files into a data processing environment and only make changes and edits there, preserving the original file in an ‘as received’ state. Correct common errors: Misspelled Lagoon names. Consult the database’s Lagoons table for authoritative Lagoon names. Incorrectly named Lagoon attributes in the field data will be rejected by the database when you try to insert the records, so they must be fixed prior. Check for Site name inconsistencies. Standard site names consist of the first three letters of the lagoon name followed by an underbar, followed by the first letter of the site type. Example: AUK_M represents the marine edge site type in the Aukulak lagoon. Standardized site types include: Inlet Outlet Marine edge Terrestrial edge Random Other site types are often included despite not being in the protocol (‘Channel’,‘Center’, etc.). Determine if these sites should more properly be categorized as standardized site types or not and rename them. Consult the database’s Sites table for authoritative Site names. Site names are often spelled differently for the same site, AK1 vs AK_1, for example. Excel often mucks up dates in a way that won’t manifest until much later in the data processing. It is therefore good to look for it ahead of time as a matter of course. You may see a date in Excel as 2017-06-21, for example, but when you import it into other software such as R you will see an integer rather than a date. This is due to the way Excel handles dates internally. The solution is to re-label the Date column as something like ExcelDate and then create another column next to it with a formula converting the Excel date into it’s text representation. Example formula that converts date values in cell A2 to a text date: =TEXT(A2,\"YYYY-MM-DD\"). These string dates usually transfer to CSV files or analytical packages correctly as a string. Create a single file for each deliverable that is labeled consistently with the deliverable identifier, the year and a description of the data they contain. Example: L10 2024 Lagoons Discrete Water Quality Data.csv or L12 2024 Lagoons Sampling Fish Counts.csv. Save each file to the parent directory. Example: \\Data\\2024 Lagoons Sampling. When finished you should have a directory of processed field data deliverables with each file labeled according to deliverable identifier, year of collection and brief description. Example: L10 2024 Lagoons Discrete Water Quality Data.csv. See the other chapters of this SOP for instructions on moving data from field deliverable files into the master lagoons monitoring database. "],["deliverable-l03-water-quality---continuous.html", "4 Deliverable L03: Water Quality - Continuous", " 4 Deliverable L03: Water Quality - Continuous Lagoons data deliverable L03 consists of continuous water quality sampling data. Deliverables Schedule "],["deliverable-l10-water-quality---discrete.html", "5 Deliverable L10: Water Quality - Discrete 5.1 Exporting data from Deliverables L10 - Discrete water quality field data to the master database 5.2 Example: Export Lagoons from the L to the ARCN_Lagoons database using an R script 5.3 Quality control 5.4 Certification 5.5 Data publication", " 5 Deliverable L10: Water Quality - Discrete 5.1 Exporting data from Deliverables L10 - Discrete water quality field data to the master database Lagoons monitoring data are delivered to the ARCN data manager as spreadsheets or text files. These should be labeled according to the Deliverables Schedule. 5.1.1 Prerequisites Access to the ARCN Lagoons monitoring shared network drive (O:\\Monitoring\\Vital Signs\\Lagoon Communities and Ecosystems). 5.1.2 Procedure Deliverables typically arrive as a spreadsheet (workbook) with multiple worksheets, or as multiple spreadsheets. If these files have not been named correctly according to the deliverables schedule then that is the first task. Open a file explorer and navigate to the ARCN Lagoons monitoring shared network drive (described above). Enter the \\Data directory If a directory does not exist, then create it using the following example: O:\\Monitoring\\Vital Signs\\Lagoon Communities and Ecosystems\\Data\\2024 Lagoons Sampling, replacing 2024 with the appropriate year. Create two subdirectories: \\Deliverables as received `Deliverables processing` The purpose of the former directory is to store the files in their unaltered state as they were received from the contractor. The latter directory is a workbench for processing the raw deliverables into well-documented and high quality formats suitable for archivale and export into the master ARCN_Lagoons database. Copy the raw deliverable files into the two directories created above. Compress (zip) the files in the \\Deliverables as received and set the attributes to ReadOnly so they may not be accidentally altered. Begin working on the raw deliverables in the \\Deliverables processing directory. Use the software of your choice to accomplish the following: Lagoon names are often misspelled. Consult the database’s Lagoons table for authoritative Lagoon names. Incorrectly named Lagoon attributes will be rejected by the database Check for Site name inconsistencies. Consult the database’s Sites table for authoritative Site names. Site names are often spelled differently for the same site, AK1 vs AK_1, for example. If the Lagoons and Site names are consistent with the database then the next step is to export the sampling events to the SamplingEvents database table. Create a single file for each deliverable that is labeled consistently with the deliverable identifier, the year and a description of the data they contain. Example: L10 2024 Lagoons Discrete Water Quality Data.csv or L12 2024 Lagoons Sampling Fish Counts.csv. 5.2 Example: Export Lagoons from the L to the ARCN_Lagoons database using an R script 5.2.1 Isolate the lagoons, check they exist, and insert them into the Lagoons table, if necessary 5.2.2 Isolate the distinct sampling events and insert them into the SamplingEvents table 5.2.3 Insert the L10 Discrete Water Quality data into the database You may modify and use the R code above to generate insert queries to insert the discrete water quality data into the database, but it may be easier to use the SQL Server Management Studio’s Data Import/Export Wizard. Procedure Start SQL Server Management Studio Log into the ARCN_Lagoons database Right click the database and select Tasks -&gt; Import data… Step through the wizard to set the source file and destination database, paying particular attention to field mappings. Use the SSMS documentation as needed to transfer the data. 5.3 Quality control Quality control is an important step on the path to dataset certification and designation as of analytical quality. The lagoons monitoring program will follow the NPS Best Practices for Data Management principles found at https://doimspp.sharepoint.com/sites/nps-nrss-imdiv/data-publication. Primary tools include: Ocular checks: scanning the data for anomalies and logical inconsistencies. Database quality control queries: Such queries are consistently named according to this scheme: QC_TableName_FunctionDescription. For example, a database query that checks for impossible pH values would be named similar to QC_WaterQualityDiscrete_ImpossiblepHValues. These QC queries will be developed for singular execution, or they may be wrapped multiply into a stored procedure data quality report. Data visualization: The objective of data visualization and data quality reporting is to visually elucidate data anomalies such that they can be corrected or documented. The ARCN data manager continually develops and modifies R scripts to interrogate the values in the database with the objective of visually demonstrating data anomalies. Data quality reporting: Similar to the R scripts above, the ARCN data manager writes data quality reports in R Markdown to communicate the quality of the data and quantifiably report data defects. These scripts will be made available in a GitHub code repository with the URL made available here. 5.4 Certification Once data from a remeasurement cycle have been processed for quality they will be certified by the data manager on the advice of the project leader. Certification is done by setting the CertificationLevel attribute for the recordset to ‘Certified’. A database trigger prevents altering certified records such that data consumers can be confident that the values have not changed since quality control was performed. 5.5 Data publication The ARCN_Lagoons SQL Server master database will always be the authoritative repository for lagoons monitoring data. Department of Interior policy, in practice, prohibits the publication of data directly from a database. Data files containing certified data will be exported from the database to human and machine readable formats (Comma Separated Values text files, for example) and packaged together with metadata in Ecological Metadata Language and published to the IRMA Data Store. These Data Packages will be linked as Products to the master lagoons monitoring Project Reference. "],["deliverable-l11-fish.html", "6 Deliverable L11: Fish 6.1 Exporting data from Deliverables L11 - Fish field data to the master database 6.2 Example: Export Lagoons from the L to the ARCN_Lagoons database using an R script 6.3 Quality control 6.4 Certification 6.5 Data publication", " 6 Deliverable L11: Fish 6.1 Exporting data from Deliverables L11 - Fish field data to the master database Lagoons monitoring data are delivered to the ARCN data manager as spreadsheets or text files. These should be labeled according to the Deliverables Schedule. 6.1.1 Prerequisites Access to the ARCN Lagoons monitoring shared network drive (O:\\Monitoring\\Vital Signs\\Lagoon Communities and Ecosystems). 6.1.2 Procedure Deliverables typically arrive as a spreadsheet (workbook) with multiple worksheets, or as multiple spreadsheets. If these files have not been named correctly according to the deliverables schedule then that is the first task. Open a file explorer and navigate to the ARCN Lagoons monitoring shared network drive (described above). Enter the \\Data directory If a directory does not exist, then create it using the following example: O:\\Monitoring\\Vital Signs\\Lagoon Communities and Ecosystems\\Data\\2024 Lagoons Sampling, replacing 2024 with the appropriate year. Create two subdirectories: \\Deliverables as received `Deliverables processing` The purpose of the former directory is to store the files in their unaltered state as they were received from the contractor. The latter directory is a workbench for processing the raw deliverables into well-documented and high quality formats suitable for archivale and export into the master ARCN_Lagoons database. Copy the raw deliverable files into the two directories created above. Compress (zip) the files in the \\Deliverables as received and set the attributes to ReadOnly so they may not be accidentally altered. Begin working on the raw deliverables in the \\Deliverables processing directory. Use the software of your choice to accomplish the following: Lagoon names are often misspelled. Consult the database’s Lagoons table for authoritative Lagoon names. Incorrectly named Lagoon attributes will be rejected by the database Check for Site name inconsistencies. Consult the database’s Sites table for authoritative Site names. Site names are often spelled differently for the same site, AK1 vs AK_1, for example. If the Lagoons and Site names are consistent with the database then the next step is to export the sampling events to the SamplingEvents database table. Create a single file for each deliverable that is labeled consistently with the deliverable identifier, the year and a description of the data they contain. Example: L11 2024 Lagoons Discrete Water Quality Data.csv or L12 2024 Lagoons Sampling Fish Counts.csv. Remove NAs. Standardize Site names, view in GIS. Check Longitude values are negative and make sense. Check data types (glimpse(data)) are correct. Move text from numeric data columns to an equivalent column. Example: ‘Count’ values recorded as ‘&gt;10,000’ should be moved to ‘Count_Text’. 6.2 Example: Export Lagoons from the L to the ARCN_Lagoons database using an R script 6.2.1 Isolate the lagoons, check they exist, and insert them into the Lagoons table, if necessary 6.2.2 Isolate the distinct sampling events and insert them into the SamplingEvents table 6.2.3 Insert the L11 Discrete Water Quality data into the database You may modify and use the R code above to generate insert queries to insert the discrete water quality data into the database, but it may be easier to use the SQL Server Management Studio’s Data Import/Export Wizard. Procedure Start SQL Server Management Studio Log into the ARCN_Lagoons database Right click the database and select Tasks -&gt; Import data… Step through the wizard to set the source file and destination database, paying particular attention to field mappings. Use the SSMS documentation as needed to transfer the data. 6.3 Quality control Quality control is an important step on the path to dataset certification and designation as of analytical quality. The lagoons monitoring program will follow the NPS Best Practices for Data Management principles found at https://doimspp.sharepoint.com/sites/nps-nrss-imdiv/data-publication. Primary tools include: Ocular checks: scanning the data for anomalies and logical inconsistencies. Database quality control queries: Such queries are consistently named according to this scheme: QC_TableName_FunctionDescription. For example, a database query that checks for impossible pH values would be named similar to QC_WaterQualityDiscrete_ImpossiblepHValues. These QC queries will be developed for singular execution, or they may be wrapped multiply into a stored procedure data quality report. Data visualization: The objective of data visualization and data quality reporting is to visually elucidate data anomalies such that they can be corrected or documented. The ARCN data manager continually develops and modifies R scripts to interrogate the values in the database with the objective of visually demonstrating data anomalies. Data quality reporting: Similar to the R scripts above, the ARCN data manager writes data quality reports in R Markdown to communicate the quality of the data and quantifiably report data defects. These scripts will be made available in a GitHub code repository with the URL made available here. 6.4 Certification Once data from a remeasurement cycle have been processed for quality they will be certified by the data manager on the advice of the project leader. Certification is done by setting the CertificationLevel attribute for the recordset to ‘Certified’. A database trigger prevents altering certified records such that data consumers can be confident that the values have not changed since quality control was performed. 6.5 Data publication The ARCN_Lagoons SQL Server master database will always be the authoritative repository for lagoons monitoring data. Department of Interior policy, in practice, prohibits the publication of data directly from a database. Data files containing certified data will be exported from the database to human and machine readable formats (Comma Separated Values text files, for example) and packaged together with metadata in Ecological Metadata Language and published to the IRMA Data Store. These Data Packages will be linked as Products to the master lagoons monitoring Project Reference. "],["quality-control-2.html", "7 Quality control", " 7 Quality control Quality control is an important step on the path to dataset certification and designation as of analytical quality. The lagoons monitoring program will follow the NPS Best Practices for Data Management principles found at https://doimspp.sharepoint.com/sites/nps-nrss-imdiv/data-publication. Primary tools include: Ocular checks: scanning the data for anomalies and logical inconsistencies. Database quality control queries: Such queries are consistently named according to this scheme: QC_TableName_FunctionDescription. For example, a database query that checks for impossible pH values would be named similar to QC_WaterQualityDiscrete_ImpossiblepHValues. These QC queries will be developed for singular execution, or they may be wrapped multiply into a stored procedure data quality report. Data visualization: The objective of data visualization and data quality reporting is to visually elucidate data anomalies such that they can be corrected or documented. The ARCN data manager continually develops and modifies R scripts to interrogate the values in the database with the objective of visually demonstrating data anomalies. Data quality reporting: Similar to the R scripts above, the ARCN data manager writes data quality reports in R Markdown to communicate the quality of the data and quantifiably report data defects. These scripts will be made available in a GitHub code repository with the URL made available here. "],["dataset-certification.html", "8 Dataset Certification 8.1 ", " 8 Dataset Certification Once data from a remeasurement cycle have been processed for quality they will be certified by the data manager on the advice of the project leader. Certification is done by setting the CertificationLevel attribute for the recordset to ‘Certified’. A database trigger prevents altering certified records such that data consumers can be confident that the values have not changed since quality control was performed. 8.1 "],["dataset-publication.html", "9 Dataset publication", " 9 Dataset publication The ARCN_Lagoons SQL Server master database will always be the authoritative repository for lagoons monitoring data. Department of Interior policy, in practice, prohibits the publication of data directly from a database. Data files containing certified data will be exported from the database to human and machine readable formats (Comma Separated Values text files, for example) and packaged together with metadata in Ecological Metadata Language and published to the IRMA Data Store. These Data Packages will be linked as Products to the master lagoons monitoring Project Reference. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
